-- 1. Booting The Library
local Starlight = loadstring(game:HttpGet("https://raw.nebulasoftworks.xyz/starlight"))()
local NebulaIcons = Starlight.NebulaIcons -- Pegando a biblioteca de ícones

-- 2. Creating The Window
local Window = Starlight:CreateWindow({
    Name = "Meu Script Hub",
    Subtitle = "v1.0 Beta",
    Icon = 10618644218, -- Exemplo de Ícone

    LoadingSettings = {
        Title = "Carregando Hub...",
        Subtitle = "Verificando dados...",
    },

    FileSettings = {
        ConfigFolder = "MeuScriptConfig"
    },
})

-- 3. Creating The Home Tab (Dashboard)
-- Conforme a source, essa função cria aquela aba bonita inicial automaticamente
Window:CreateHomeTab({
    SupportedExecutors = {"Synapse X", "Script-Ware", "Krampus"}, 
    UnsupportedExecutors = {"Solara", "JJSploit"},

    DiscordInvite = "discord", -- Coloque apenas o código do convite
    Backdrop = 0, -- 0 usa a thumbnail do jogo atual
    IconStyle = 1, -- 1 sólido, 2 outline

    Changelog = {
        {
            Title = "Lançamento do Protótipo",
            Date = "25 de Janeiro, 2025",
            Description = "Adicionado sistema de Dashboard e Aba de Key conforme solicitado.",
        },
        {
            Title = "Correções",
            Date = "24 de Janeiro, 2025",
            Description = "Pequenos ajustes na interface.",
        }  
    }
})

-- 4. Creating Tab Sections (Necessário para criar abas normais depois da Home)
local MainSection = Window:CreateTabSection("Menu Principal")

-- 5. Creating The Key System Tab
local KeyTab = MainSection:CreateTab({
    Name = "Sistema de Key",
    Icon = NebulaIcons:GetIcon('vpn_key', 'Material'),
    Columns = 1, -- 1 Coluna fica melhor para login
}, "KeyTabID")

-- 6. Creating Groupbox com o título "Key:"
local KeyGroup = KeyTab:CreateGroupbox({
    Name = "Key:", -- O título que você pediu
    Column = 1,
}, "KeyGroupID")

-- Variável para armazenar o que o usuário digitar
local UserInputKey = ""
local TrueKey = "1234" -- A senha correta para teste

-- Input para digitar a Key
KeyGroup:CreateInput({
    Name = "Insira sua Licença",
    Icon = NebulaIcons:GetIcon('key', 'Lucide'),
    CurrentValue = "",
    PlaceholderText = "Cole sua key aqui...",
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        UserInputKey = Text
    end,
}, "KeyInputID")

-- Botão para verificar
KeyGroup:CreateButton({
    Name = "Verificar Acesso",
    Icon = NebulaIcons:GetIcon('check_circle', 'Material'),
    Callback = function()
        if UserInputKey == TrueKey then
            Starlight:Notification({
                Title = "Sucesso!",
                Content = "Key validada com sucesso. Acesso liberado!",
                Icon = NebulaIcons:GetIcon('check', 'Material'),
                Duration = 5
            })
            -- Aqui você colocaria o código para liberar as outras abas
            print("Key Correta!")
        else
            Starlight:Notification({
                Title = "Erro",
                Content = "A Key inserida é inválida.",
                Icon = NebulaIcons:GetIcon('error', 'Material'),
                Duration = 3
            })
            print("Key Incorreta!")
        end
    end,
}, "VerifyButtonID")

-- 7. Finishing / Autoloads
-- Carrega configurações salvas automaticamente (tem que ser no final)
Starlight:LoadAutoloadTheme()
Starlight:LoadAutoloadConfig()
